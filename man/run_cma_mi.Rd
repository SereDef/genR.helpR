% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/genr_model.R
\name{run_cma_mi}
\alias{run_cma_mi}
\title{Run \code{CMAverse} causal mediation analysis across multiple imputations}
\usage{
run_cma_mi(
  datalist,
  exposure,
  outcome,
  mediator,
  y_model = "linear",
  allow_interaction = FALSE,
  exposure_contrast = c(0, 1),
  nboot = 1000,
  basec = NULL,
  postc = NULL,
  ...,
  verbose = TRUE
)
}
\arguments{
\item{datalist}{A list of imputed datasets (each a \code{data.frame}).}

\item{exposure}{Character name of the exposure variable.}

\item{outcome}{Character name of the outcome variable.}

\item{mediator}{Character vector of mediator variable(s).}

\item{y_model}{Character string specifying the outcome regression model.
Defaults to \code{"linear"}. Passed to \code{CMAverse::cmest(yreg = ...)}.}

\item{allow_interaction}{Logical; whether to allow exposure–mediator interaction (\code{EMint}).}

\item{exposure_contrast}{Numeric vector of length two giving the reference (\code{astar})
and comparison (\code{a}) exposure levels. Defaults to \code{c(0, 1)}.}

\item{nboot}{Integer; number of bootstrap replicates per imputation. Defaults to \code{1000}.}

\item{basec}{Optional character vector of baseline confounders to adjust for.}

\item{postc}{Optional character vector of post-treatment confounders to adjust for.}

\item{...}{Additional arguments passed to \code{CMAverse::cmest()}.}

\item{verbose}{Logical; if \code{TRUE}, prints progress messages for each imputation.}
}
\value{
An S4 object of class \code{"mira.CMA"} with slots:
\describe{
\item{yreg}{List of outcome model fits}
\item{mreg}{List of mediator model fits}
\item{cregr}{List of post-treatment confounder model fits}
\item{decomp}{List of CMA decomposition tables}
\item{n}{Integer sample size}
}
}
\description{
Fits causal mediation models (via \pkg{CMAverse}) across multiple imputed datasets
and stores all intermediate regression and decomposition results in a custom
S4 container (\code{mira.CMA}).
}
\details{
This function loops over multiple imputed datasets and calls
\code{CMAverse::cmest()} for each, capturing all regression outputs:
\itemize{
\item \code{yreg} – outcome regression
\item \code{mreg} – mediator regression
\item \code{cregr} – post-treatment confounder regression(s)
\item \code{decomp} – decomposition summary table
}

The outputs are combined into a custom S4 object (\code{mira.CMA}) with slots for each,
and an additional slot \code{n} storing the sample size.
}
\examples{
\dontshow{if (exists("imp_list")) withAutoprint(\{ # examplesIf}
fits <- run_cma_mi(
  datalist = imp_list,
  exposure = "X",
  outcome = "Y",
  mediator = "M",
  y_model = "linear",
  basec = c("age", "sex"),
  verbose = TRUE
)
\dontshow{\}) # examplesIf}
}
\seealso{
\code{\link[=pool_cma_mi]{pool_cma_mi()}} for pooling results across imputations.
}
